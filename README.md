# ♟️ Шахматные часы

В этом задании вам предстоит реализовать [шахматные часы](https://ru.wikipedia.org/wiki/Шахматные_часы) на JavaScript.

## Описание

Шахматные часы - это часы, которые используются для контроля времени в шахматных партиях. 

У каждого игрока есть свой отсчет времени, и когда игрок делает ход - он нажимает на часы, тем самым останавливая свой таймер и запуская таймер соперника. В этом задании речь пойдет про их разновидность - [часы Фишера](https://ru.wikipedia.org/wiki/Часы_Фишера). Их особенность в том, что переход хода добавляет бонусное время игроку, сделавшему ход.

### Описание работы часов:

- У каждого игрока одинаковое время в начале игры
- Сделав ход, игрок нажимает на часы и передает ход сопернику
- За сделанный ход игроку добавляется бонусное время
- **Время активного игрока уменьшается каждую <u>секунду</u>**
- Проигрывает тот, кто первым потратит все время

### Создание часов
*Вам нужно написать функцию createChessClock*

```javascript
const chessClock = createChessClock(gameTime, bonusTime = 2000);
```

*Считаем, что добавочное время за ход - bonusTime = 2000 (можно не привязываться и считать bonusTime > 0)*

**Параметры:**
- `gameTime` — начальное время для каждого игрока (в миллисекундах)
- `bonusTime` — бонусное время, добавляемое после каждого хода (по умолчанию 2000 мс)

### Эта функция должна возвращать объект с двумя методами:

```javascript
return {
        switchPlayer,
        getState
    };
```

#### `getState()`

Это текущее состояние часов:

```javascript
{
  whiteTime,      // оставшееся время белых (мс)
  blackTime,      // оставшееся время черных (мс)
  activePlayer,   // чей сейчас ход (строка - "white" или "black")
  gameOver        // закончена ли игра (булево значение - true или false)
}
```

#### `switchPlayer()`

Передает ход другому игроку(активный игрок меняется на игрока противоположного цвета).

## Особенности реализации

-  Первый вызов функции **switchPlayer()** запускает игру!
-  До старта и после окончания игры таймеры не работают.
-  Время активного игрока уменьшается **раз в секунду**.
-  Проверка остатка на таймере происходит не мгновенно, а **раз в секунду**. Поэтому, когда у игрока на табло 0 секунд (а по-настоящему это может быть время < 0) он имеет возможность спастись, передав ход.
-  При передаче хода добавляется бонусное время игроку, сделавшему ход.

### Пример использования

```javascript
const clock = createChessClock(3000, 2000); //  часы с 3 секундами игры для каждого игрока и 2 секундами прибавления за ход

console.log(clock.getState()); // пока ничего не произошло
// {
//   whiteTime: 3000,
//   blackTime: 3000,
//   activePlayer: 'white',
//   gameOver: false
// }

clock.switchPlayer(); // начало игры (то есть начало хода белых, считаем, что белые всегда ходят первыми)

setTimeout(() => {
    console.log(clock.getState());
    clock.switchPlayer();
    console.log(clock.getState());
}, 1000); // прошла секунда игры
// {
//    whiteTime: 2000, // произошел "тик" и отнялась секунда времени
//    blackTime: 3000,
//    activePlayer: 'white',
//    gameOver: false
// }
// {
//   whiteTime: 4000, // за сделанный ход белым добавились 2 секунды
//   blackTime: 3000,
//   activePlayer: 'black', // ход передан черным
//   gameOver: false
// }

```

## PS

- [Википедия: Шахматные часы](https://ru.wikipedia.org/wiki/Шахматные_часы)
- [Lichess.org](https://lichess.ru) — тут используются те самые шахматные часы!
- В папке visualisation можно потыкать в часы если реализовать функцию createChessClock



# CLI команды

```
npm i
```

запуск тестов
```
npm run test:unit
```
