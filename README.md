# ♟️ Шахматные часы

Реализация [шахматных часов](https://ru.wikipedia.org/wiki/Шахматные_часы) на JavaScript.

## Описание

Это часы, которые используются для контроля времени в шахматных партиях. 

У каждого игрока есть свой отсчет времени, и когда игрок делает ход - он нажимает на часы, тем самым останавливая свой таймер и запуская таймер соперника. Переход хода добавляет время игроку, сделавшему ход.

### Описание работы часов:

- У каждого игрока одинаковое время в начале игры
- Сделав ход, игрок нажимает на часы и передает ход сопернику
- За сделанный ход игроку добавляется бонусное время
- Время активного игрока уменьшается каждую секунду
- Проигрывает тот, кто первым потратит все время

### Создание часов
*Вам нужно написать функцию createChessClock*

```javascript
const chessClock = createChessClock(gameTime, bonusTime = 2000);
```

*Считаем, что добавочное время за ход - bonusTime = 2000, именно так у часов Фишера*

**Параметры:**
- `gameTime` — начальное время для каждого игрока (в миллисекундах)
- `bonusTime` — бонусное время, добавляемое после каждого хода (по умолчанию 2000 мс)

### Эта функция должна возвращать:

#### `getState()`

Это текущее состояние часов:

```javascript
{
  whiteTime,      // оставшееся время белых (мс)
  blackTime,      // оставшееся время черных (мс)
  activePlayer,   // чей сейчас ход (строка - "white" или "black")
  gameOver        // закончена ли игра (булеан - true или false)
}
```

#### `switchPlayer()`

Передает ход другому игроку(активный игрок меняется на игрока противоположного цвета)

**Особенность функции:** Первое переключение запускает игру! 
*До начала, так и после окончания партии время игроков не тратится и внутри ничего не происходит.*

### Пример использования

```javascript
const clock = createChessClock(300000, 2000); //  часы с 5 минутами игры для каждого игрока и 2 секундами прибавления за ход
clock.switchPlayer(); // начало игры (то есть начало хода белых, считаем что белые всегда ходят первыми)

console.log(clock.getState()); // пока ничего не произошло
// {
//   whiteTime: 300000,
//   blackTime: 300000,
//   activePlayer: "white",
//   gameOver: false
// }

setTimeout(() => {
    console.log(clock.getState());
}, 100000);
// {
//   whiteTime: 200000,
//   blackTime: 300000,
//   activePlayer: "white",
//   gameOver: false
// }


clock.switchPlayer(); // белые сделали ход и начался ход черных
```

## Особенности реализации

-  Уменьшение времени активного игрока каждую секунду внутри его хода
-  Добавление бонусного времени игроку сделавшему ход
-  Автоматическое завершение игры при окончании времени у одного из игроков
-  Тик, отнимающий время активного игрока, наступает каждую секунду (именно раз в секунду), поэтому, когда у игрока на табло 0 секунд (а по настоящему это < 0) он имеет возможность спастись, передав ход.

*Подумайте, о логике реальных часов и что происходит между “тиками”.*

## PS

- [Википедия: Шахматные часы](https://ru.wikipedia.org/wiki/Шахматные_часы)
- [Lichess.org](https://lichess.ru) — тут используются те самые шахматные часы!



# CLI команды

```
npm i
```

запуск тестов
```
npm run test:unit
```
